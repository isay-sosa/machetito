<% if locals[:notification].present? %>
  <div class="notification <%= locals[:is_success] && 'is-success' || 'is-danger' %>">
    <button class="delete"></button>

    <% if Array(locals[:notification]).length > 1 %>
      <ul>
        <% locals[:notification].each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    <% else %>
      <%= Array(locals[:notification]).first %>
    <% end %>
  </div>
<% end %>

<script type="text/javascript" charset="utf-8">
  document.addEventListener('DOMContentLoaded', function() {
    (document.querySelectorAll('.notification .delete') || []).forEach(function($delete) {
      var $notification = $delete.parentNode;

      $delete.addEventListener('click', function() {
        $notification.parentNode.removeChild($notification);
      });
    });
  });
</script>
